state: Start
    q!: $regex</start>
    a: Привет! Я виртуальный помощник кинотеатра "Синема". Рад помочь с выбором фильма и покупкой билетов. Что вас интересует?
    
    state: chooseFilm
        q!: * (афиш*/кин*/прокат*/фильм*/*смотр*) *
        a: Сейчас в прокате много интересных фильмов. Какой жанр вас интересует?
            
        state: chooseRomance
            q: * (мелодрам*/мыл*/мыльн*/*плак*/трогательн*/сентимент*) *
            a: Тогда вам отлично подойдёт: "Моё итальянское лето". Ух, наплачетесь.
            go!: ../checkResult
                
        state: chooseDrama
            q: * (драм*) *
            a: Отличный выбор! Недавно вышел классный фильм "Вызов". От души рекомендую к просмотру.
            go!: ../checkResult
            
        state: chooseComedy
            q: * (комед*/*смеяться/*хохот*/*ржать/*угар*/*весел*) *
            a: Круто! Вдоволь насмеяться можете за просмотром "За Палыча!". Я умирал со смеху. 
            go!: ../checkResult
            
        state: chooseHistory
            q: * (истори*/познавательн*/[средн*] век*) *
            a: "Жанна Дюбарри" - отличный выбор. Это исторический фильм о фаворитке короля. 
            go!: ../checkResult
                
        state: chooseHorror
            q: * (ужас*/страх/страшн*/нерв* [*щекот*]/пугающ*/жутк*/хоррор) *
            a: Нервишки пощекотать можете на "Реинкарнации". До ужаса страшный хоррор.
            go!: ../checkResult
                
        state: chooseChild
            q: * (детск*/дет*/семь*/семейн*/ребён*) *
            a: Ваши детки будут пищать от восторга при виде львёнка из фильма "Король львёнок".
            go!: ../checkResult
                
        state: checkResult || noContext = true
            random:
                a: Интересный вариант, не правда ли? 
                a: Классный фильм я выбрал, да? 
        
            buttons:
                "А то!" ->  enjoyResult
                "Нет, подбери другой(" -> negResult
            
            state: enjoyResult || noContext = true
                a: Рад, что вам понравился мой выбор!
                    
            state: negResult || noContext = true
                a: Сейчас ещё что-нибудь поищу.Секунду..
    state: showAll
        q!: * (вс* афиш*/[вс*][список] фильм*/полностью) *
        a: Сейчас в прокате: \n
            1) "За Палыча" \n
            2) "Жанна Дюбарри" \n
            3) "Просто супер" \n
            4) "Хвостатые пришельцы" \n
            5) "Трансформеры" 

state: NoMatch
    event!: noMatch
    a: Я не понял. Вы сказали: {{$request.query}}